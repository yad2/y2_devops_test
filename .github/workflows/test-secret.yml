name: Test Secret Value

on:
    push:
        branches: [main, master]

jobs:
    test-secret:
        runs-on: ubuntu-latest
        steps:
            - name: Checkout code
              uses: actions/checkout@v4

            - name: Print secret value
              run: |
                  echo "Secret 'test' value: ${{ secrets.test }}"
                  echo "Secret length: ${#SECRET_VALUE}"
              env:
                  SECRET_VALUE: ${{ secrets.test }}

            - name: Validate secret exists
              run: |
                  if [ -z "${{ secrets.test }}" ]; then
                    echo "ERROR: Secret 'test' is not set or is empty"
                    exit 1
                  else
                    echo "SUCCESS: Secret 'test' is set"
                    echo "Value (will be masked): ${{ secrets.test }}"
                  fi
